--- origsrc/libjpeg-turbo-1.2.1/jmorecfg.h	2012-07-31 02:55:28.253855100 -0500
+++ src/libjpeg-turbo-1.2.1/jmorecfg.h	2012-07-31 02:55:16.713195000 -0500
@@ -152,13 +152,13 @@ typedef unsigned int UINT16;
 
 /* INT16 must hold at least the values -32768..32767. */
 
-#ifndef XMD_H			/* X11/xmd.h correctly defines INT16 */
+#if !defined(_BASETSD_H_) && !defined(_BASETSD_H) && !defined(XMD_H)
 typedef short INT16;
 #endif
 
 /* INT32 must hold at least signed 32-bit values. */
 
-#ifndef XMD_H			/* X11/xmd.h correctly defines INT32 */
+#if !defined(_BASETSD_H_) && !defined(_BASETSD_H) && !defined(XMD_H)
 typedef long INT32;
 #endif
 
@@ -224,9 +224,11 @@ typedef unsigned int JDIMENSION;
  * Defining HAVE_BOOLEAN before including jpeglib.h should make it work.
  */
 
+#ifndef __RPCNDR_H__
 #ifndef HAVE_BOOLEAN
-typedef int boolean;
+typedef unsigned char boolean;
 #endif
+#endif
 #ifndef FALSE			/* in case these macros already exist */
 #define FALSE	0		/* values of boolean */
 #endif
